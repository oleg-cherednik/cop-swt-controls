<?xml version="1.0"?>
<project name="cop.common" default="build-project" basedir=".">
	<description>
		ANT build script for cop.common project
	</description>

	<!-- PROPERTIES -->

	<property name="src.dir" location="src" />
	<property name="bin.dir" location="bin" />
	<property name="test.dir" location="test" />
	<property name="manifest.path" location="./META-INF/MANIFEST.MF" />

	<property name="eclipse.home" location="${eclipse_home}" />
	<property name="eclipse.plugins" location="${eclipse.home}/plugins" />

	<!-- CLASSPATH CORE -->

	<path id="classpath.core">
		<fileset dir="${eclipse.plugins}">
			<include name="*.jar" />
		</fileset>
	</path>

	<!-- TARGETS -->

	<target name="build-project">
		<echo>build-project...</echo>
	</target>

	<target name="auto-build-project">
		<echo>auto-build-project...</echo>
	</target>

	<target name="clean" description="Destroys all generated files and dirs">
		<delete dir="${bin.dir}" />
	</target>

	<target name="post-clean">
		<echo>post-clean...</echo>
	</target>

	<target name="init">
		<!-- Create the time stamp -->
		<tstamp />
		<!-- Create the build directory structure used by compile -->
		<mkdir dir="${bin.dir}" />
	</target>

	<target name="compile" depends="init" description="compile the source">
		<!-- Compile the java code from ${src.dir} into ${build.dir} -->
		<!-- echo>eclipse.home: ${eclipse.home}</echo -->
		<javac srcdir="${src.dir}" destdir="${bin.dir}">
			<classpath refid="classpath.core" />
		</javac>
	</target>

	<target name="create-jar" depends="compile">
		<!--property file="${web.inf.dir}/config.properties"/-->
		<jar jarfile="${bin.dir}/${ant.project.name}.jar" manifest="${manifest.path}">
			<fileset dir="${bin.dir}" excludes="**/${ant.project.name}.jar"/>
		</jar>
	</target>
</project>